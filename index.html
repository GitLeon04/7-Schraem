<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>7‑Schräm</title>

  <!-- Favicon und Stylesheet -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Überschrift -->
  <h1>7‑Schräm</h1>

  <!-- Einsatz pro Spieler festlegen -->
  <section id="setup-form">
    <input
      type="number"
      id="global-bet"
      placeholder="Einsatz pro Spieler (€)"
      min="0.01"
      step="0.01"
    >
    <button id="set-bet-button">Einsatz festlegen</button>
  </section>

  <!-- Aufklapp‑Schalter -->
  <button id="toggle-player-ui" hidden>Aufklappen ▼</button>

  <!-- Spielername‑Eingabe + Namensvorschläge -->
  <div id="player-ui" hidden>

    <!-- Individuelle Namen -->
    <section id="player-form">
      <input type="text" id="player-name" placeholder="Spielername">
      <button id="add-player-button">Spieler hinzufügen</button>
    </section>

    <!-- Schnellvorschläge -->
    <section id="preset-buttons">
      <p>Vorschläge:</p>
      <button class="preset-player" data-name="Flaschko">Flaschko</button>
      <button class="preset-player" data-name="Eckmann">Eckmann</button>
      <button class="preset-player" data-name="Ansgar">Ansgar</button>
      <button class="preset-player" data-name="Ilkcross">Ilkcross</button>
      <button class="preset-player" data-name="Tolj">Tolj</button>
      <button class="preset-player" data-name="Titan">Titan</button>
    </section>
  </div>

  <!-- Dynamisch generierte Spielerliste -->
  <div id="players"></div>

  <!-- Steuerbuttons -->
  <button id="restart-button" hidden>Neustart</button>
  <button id="reset-button" hidden>Reset (alles löschen)</button>

  <!-- Gewinneranzeige -->
  <div id="winner" hidden></div>

  <!-- Fußbereich -->
  <footer>
    <p>Dies ist ein rein privates Projekt für den nicht kommerziellen Gebrauch im Freundeskreis.</p>
    <p>Made by Ansgar &amp; Flaschko &amp; Eckmann</p>
    <p id="last-deploy">Letztes Deployment wird geladen...</p>
  </footer>

  <!-- Hauptlogik -->
  <script src="script.js"></script>

  <!-- GitHub API für letztes Commit -->
  <script>
    fetch('https://api.github.com/repos/GitLeon04/7-Schraem/commits?per_page=1')
      .then(response => response.json())
      .then(data => {
        const commitDate = new Date(data[0].commit.committer.date);
        document.getElementById('last-deploy').textContent =
          'Letztes Deployment: ' + commitDate.toLocaleString('de-DE');
      })
      .catch(() => {
        document.getElementById('last-deploy').textContent =
          'Letztes Deployment konnte nicht geladen werden';
      });
  </script>
</body>
</html>
